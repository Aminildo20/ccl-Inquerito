<!DOCTYPE html><!--  Last Published: Mon Apr 28 2025 15:56:32 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="680b56050b6be2435971ca36" data-wf-site="6800aeb4641ae1fdf1aec8ae">
<head th:insert="~{/fragmentos/header :: header}"></head>
<body>
  <div class="mother-div dash">
    <div class="page-content-wrapper">

		<section th:replace="fragmentos/menu :: menu"></section>
		
      <div class="content">
        <section class="criar-page-section">
          <div class="container">
            <div class="top-section-navigation">
              <a href="javascript:history.back()" class="seta-para-tras w-inline-block">
                <div class="text-block-129">q</div>
              </a>
              <div class="titulo">
                <div class="text-block-130">Relatório de satisfação geral<br></div>
              </div>
            </div>
            <div class="dash-main-content">
              <div class="w-form">
                <form id="email-form" name="email-form" data-name="Email Form" method="get" data-wf-page-id="680b56050b6be2435971ca36" data-wf-element-id="d98d410b-0c44-bdb6-b60a-4d33c17b8fa5">
                  <div class="w-layout-grid grid-17">
                    <div id="w-node-_8153b235-798a-76e9-2645-689ea16d0a33-5971ca36" class="kpi-2">
                      <div class="kpi-top-section">
                        <div class="kpi-icon-wrapper-2">
                          <div class="icon inside-kpi">
                            <div class="main-font-icon smaller-icon">task</div>
                          </div>
                        </div>
                        <h2 class="kpi-header-3">Índice de satisfação geral</h2>
                      </div>
                      <div class="kpi-mid-section">
                        <div class="kpi-valor-3" th:text="${indiceSastifeitos != null ? #numbers.formatDecimal(indiceSastifeitos ?: 0, 2, 2) : 0}">50</div>											         
                        <div class="kpi-valor-3 currency">%</div>
                      </div>
                      <div class="kpi-bottom-section">
                        <div class="kpi-dropdown-wrap">
                          <a href="#" class="table-action-button-3 w-inline-block"></a>
                          <div class="flyout-menu-wrapper-3 kpi-actions-flyout">
                            <div class="flyout-menu-content-3 in-table"><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-2" data-name="Radio 2" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-2">Últimos 7 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-2" data-name="Radio 2" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-2">Últimos 15 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-2" data-name="Radio 2" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-2">Últimos 30 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-2" data-name="Radio 2" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-2">Últimos 6 meses</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-2" data-name="Radio 2" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-2">Últimos 12 meses</span>
                              </label></div>
                          </div>
                          <div class="kpi-stats-wrapper">
                            <div class="kpi-stats positive">
                              <div class="icon kpi-stats-icon">
								<div class="main-font-icon smaller-icon">8</div>
                              </div>
                              <div class="stats" th:text="${indiceSastifeitosUltimosDias != null ? #numbers.formatDecimal(indiceSastifeitosUltimosDias ?: 0, 2, 2) : 0} + ' %'">0%</div>							                              
                            </div>
                            <div class="kpi-stats negative hidden">
                              <div class="icon kpi-stats-icon">
                                <div class="main-font-icon smaller-icon _1">8</div>
                              </div>
                              <div class="stats">8.26%</div>
                            </div>
                          </div>
                        </div>
                        <a href="#" class="table-action-button-3 w-inline-block">
                          <div class="icon kpi-dropdown-icon">
                            <div class="button-text quick-action-text _0-margin">Últimos 30 dias</div>
                            <div class="main-font-icon">arrow_drop_down</div>
                          </div>
                        </a>
                      </div>
                    </div>
                    <div id="w-node-_478357e8-cb29-d693-c380-033e6539b078-5971ca36" class="kpi-2">
                      <div class="kpi-top-section">
                        <div class="kpi-icon-wrapper-2">
                          <div class="icon inside-kpi">
                            <div class="main-font-icon smaller-icon">task</div>
                          </div>
                        </div>
                        <h2 class="kpi-header-3">Percentual de visitantes satisfeito</h2>
                      </div>
                      <div class="kpi-mid-section">
                        <div class="kpi-valor-3" th:text="${percentualSatisfeitos != null ? #numbers.formatDecimal(percentualSatisfeitos ?: 0, 2, 2) : 0}">30</div>
                        <div class="kpi-valor-3 currency">%</div>
                      </div>
                      <div class="kpi-bottom-section">
                        <div class="kpi-dropdown-wrap">
                          <a href="#" class="table-action-button-3 w-inline-block"></a>
                          <div class="flyout-menu-wrapper-3 kpi-actions-flyout">
                            <div class="flyout-menu-content-3 in-table"><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-3" data-name="Radio 3" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-3">Últimos 7 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-3" data-name="Radio 3" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-3">Últimos 15 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-3" data-name="Radio 3" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-3">Últimos 30 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-3" data-name="Radio 3" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-3">Últimos 6 meses</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-3" data-name="Radio 3" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-3">Últimos 12 meses</span>
                              </label></div>
                          </div>
                          <div class="kpi-stats-wrapper">
                            <div class="kpi-stats positive">
                              <div class="icon kpi-stats-icon">
                                <div class="main-font-icon smaller-icon">8</div>
                              </div>
                              <div class="stats" th:text="(${percentualSatisfeitosUltimosDias} ?: 0 )+ ' %'">0%</div>
                            </div>
                            <div class="kpi-stats negative hidden">
                              <div class="icon kpi-stats-icon">
                                <div class="main-font-icon smaller-icon _1">8</div>
                              </div>
                              <div class="stats">8.26%</div>
                            </div>
                          </div>
                        </div>
                        <a href="#" class="table-action-button-3 w-inline-block">
                          <div class="icon kpi-dropdown-icon">
                            <div class="button-text quick-action-text _0-margin">Últimos 30 dias</div>
                            <div class="main-font-icon">arrow_drop_down</div>
                          </div>
                        </a>
                      </div>
                    </div>
                    <div id="w-node-_420f6a57-67ca-b42c-cace-0fb4c783faf4-5971ca36" class="kpi-2">
                      <div class="kpi-top-section">
                        <div class="kpi-icon-wrapper-2">
                          <div class="icon inside-kpi">
                            <div class="main-font-icon smaller-icon">task</div>
                          </div>
                        </div>
                        <h2 class="kpi-header-3">Percentual de visitantes insatisfeito</h2>
                      </div>
                      <div class="kpi-mid-section">
                        <div class="kpi-valor-3" th:text="${percentualInsatisfeitos != null ? #numbers.formatDecimal(percentualInsatisfeitos ?: 0, 2, 2) : 0}">30</div>
                        <div class="kpi-valor-3 currency">%</div>
                      </div>
                      <div class="kpi-bottom-section">
                        <div class="kpi-dropdown-wrap">
                          <a href="#" class="table-action-button-3 w-inline-block"></a>
                          <div class="flyout-menu-wrapper-3 kpi-actions-flyout">
                            <div class="flyout-menu-content-3 in-table"><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-4" data-name="Radio 4" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-4">Últimos 7 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-4" data-name="Radio 4" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-4">Últimos 15 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-4" data-name="Radio 4" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-4">Últimos 30 dias</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-4" data-name="Radio 4" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-4">Últimos 6 meses</span>
                              </label><label class="menu-item-4 with-radio-button w-radio">
                                <div class="w-form-formradioinput w-form-formradioinput--inputType-custom radio-button-4 w-radio-input"></div><input type="radio" name="radio" id="radio-4" data-name="Radio 4" style="opacity:0;position:absolute;z-index:-1" value="Radio"><span class="button-text radio-text w-form-label" for="radio-4">Últimos 12 meses</span>
                              </label></div>
                          </div>
                          <div class="kpi-stats-wrapper">
                            <div class="kpi-stats positive">
                              <div class="icon kpi-stats-icon">
<!--                                <div class="main-font-icon smaller-icon" th:text="${InsatisfeitosUltimosDias} ?: 0">0</div>-->
								<div class="main-font-icon smaller-icon">8</div>
                              </div>
                              <div class="stats">0%</div>
                            </div>
                            <div class="kpi-stats negative hidden">
                              <div class="icon kpi-stats-icon">
                                <div class="main-font-icon smaller-icon _1">8</div>
                              </div>
                              <div class="stats">8.26%</div>
                            </div>
                          </div>
                        </div>
                        <a href="#" class="table-action-button-3 w-inline-block">
                          <div class="icon kpi-dropdown-icon">
                            <div class="button-text quick-action-text _0-margin">Últimos 30 dias</div>
                            <div class="main-font-icon">arrow_drop_down</div>
                          </div>
                        </a>
                      </div>
                    </div>
                  </div>
                </form>
                <div class="w-form-done">
                  <div>Thank you! Your submission has been received!</div>
                </div>
                <div class="w-form-fail">
                  <div>Oops! Something went wrong while submitting the form.</div>
                </div>
              </div>
              <div class="div-block-403">
                <div class="div-block-404">
                  <div class="w-layout-grid grid-40">
                    <div class="div-block-408">
                      <div class="w-embed w-script">
                        <!DOCTYPE html>
                        <html lang="pt">
                        <head>
                          <meta charset="UTF-8">
                          <title>Gráfico de Satisfação por Área - CCL</title>
                          <style>
    body {
      font-family: Barlow;
      padding: 40px;
      background: #f8f9fa;
      font-size: 24;
    }
    canvas {
      width: 700px;
      height: 300px;
      margin: auto;
    }
  </style>
                        </head>
                        <body>
                          <canvas id="satisfacaoChart"></canvas>
                          <script th:inline="javascript">
    const ctx = document.getElementById('satisfacaoChart').getContext('2d');
    const data = {
      labels: ['Exposições', 'Guias', 'Bilheteira', 'Loja', 'Cafetaria', 'Limpeza'],
      datasets: [
        {
          label: 'Muito Satisfeito',
          data: /*[[${muitoSatisfeito}]]*/ [],
          backgroundColor: '#4CAF50',
          categoryPercentage: 0.8,
          barPercentage: 0.9
        },
        {
          label: 'Satisfeito',
          data: /*[[${satisfeito}]]*/ [],
          backgroundColor: '#8BC34A',
          categoryPercentage: 0.8,
          barPercentage: 0.9
        },
        {
          label: 'Indiferente',
          data: /*[[${indiferente}]]*/ [],
          backgroundColor: '#FFC107',
          categoryPercentage: 0.8,
          barPercentage: 0.9
        },
        {
          label: 'Insatisfeito',
          data: /*[[${insatisfeito}]]*/ [],
          backgroundColor: '#FF9800',
          categoryPercentage: 0.8,
          barPercentage: 0.9
        },
        {
          label: 'Muito Insatisfeito',
          data: /*[[${muitoInsatisfeito}]]*/ [],
          backgroundColor: '#F44336',
          categoryPercentage: 0.8,
          barPercentage: 0.9
        }
      ]
    };
    const config = {
      type: 'bar',
      data: data,
      options: {
        responsive: true,
        plugins: {
          title: {
            display: false
          },
          tooltip: {
            mode: 'index',
            intersect: false
          },
          legend: {
            position: 'top'
          }
        },
        interaction: {
          mode: 'nearest',
          axis: 'x',
          intersect: false
        },
        scales: {
          x: {
            stacked: false, // Alterado para false para separar as barras
            grid: {
              display: false
            }
          },
          y: {
            stacked: false, // Alterado para false para separar as barras
            title: {
              display: true,
              text: 'Percentual (%)'
            },
            max: 100,
            beginAtZero: true
          }
        },
        // Ajuste o espaçamento entre as barras do mesmo grupo
        barPercentage: 0.8,
        categoryPercentage: 0.9
      }
    };
    new Chart(ctx, config);
  </script>
                        </body>
                        </html>
                      </div>
                    </div>
                    <div class="div-block-408 _1 _2">
                      <div class="div-block-409">
                        <div class="list-item">
                          <div class="list-item-lable">Nº de visitantes satisfeito</div>
                          <div class="list-item" th:text="${satisfeitos} ?: 0">800.343</div>
                        </div>
                        <div class="list-item">
                          <div class="list-item-lable">Nº de visitantes insatisfeito</div>
                          <div class="list-item" th:text="${insatisfeitos} ?: 0">302.045</div>
                        </div>
                        <div class="list-item">
                          <div class="list-item-lable">Percentual de satisfação</div>
                          <div class="kpi-mind">
                            <div class="list-item" th:text="${percentualSatisfacao != null ? #numbers.formatDecimal(percentualSatisfacao ?: 0, 2, 2) : 0}">100</div>
                            <div class="kpi-valor-3 currency">%</div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="div-block-404">
                  <div class="div-block-405">
                    <div class="w-embed w-script">
                      <div style="margin-bottom: 20px;">
                        <h3 style="font-weight: 400; margin: 0; padding: 0;">Evolução da Satisfação Geral - Ano Completo</h3>
                      </div>
                      <canvas id="satisfacaoTimelineChart"></canvas>
                      <script th:inline="javascript">
  const ctxLinha = document.getElementById('satisfacaoTimelineChart').getContext('2d');
  new Chart(ctxLinha, {
    type: 'line',
    data: {
      labels: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
      datasets: [{
        label: 'Índice de Satisfação Geral',
        data: /*[[${graficoInqueritoMes}]]*/ [],
        fill: false,
        borderColor: '#34D399',
        tension: 0.3
      }]
    },
    options: {
      responsive: true,
      plugins: {
        title: {
          display: true,
        }
      },
      scales: {
        y: {
          suggestedMin: 0,
          suggestedMax: 100,
          ticks: {
            callback: (value) => value + '%'
          }
        }
      }
    }
  });
</script>
                    </div>
                  </div>
                  <div class="div-block-406">
                    <div class="list-item">
                      <div class="list-item-lable">Mês com maior desempenho</div>
                      <div class="kpi-mind">
                        <div class="list-item" th:text="${mesMaiorDesempenho ?: 0}">Dezembro</div>
                        <div class="list-item" th:text="${valorMesMaiorDesempenho != null ? #numbers.formatDecimal(valorMesMaiorDesempenho ?: 0, 2, 2) : 0}">100</div>
						                                 
                        <div class="kpi-valor-3 currency">%</div>
                      </div>
                    </div>
                    <div class="list-item">
                      <div class="list-item-lable" >Mês com menor desempenho</div>
                      <div class="kpi-mind">
                        <div class="list-item" th:text="${mesMenorDesempenho ?: 0}">Janeiro</div>
                        <div class="list-item" th:text="${valorMesMenorDesempenho != null ? #numbers.formatDecimal(valorMesMenorDesempenho ?: 0, 2, 2) : 0}">100</div>
						
                        <div class="kpi-valor-3 currency">%</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
  <div class="close-flyout"></div>
  <div class="not-valid">
    <div class="text-block-116">Dimensão de ecrã não suportada...</div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6800aeb4641ae1fdf1aec8ae" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="/js/ccl-backoffice.js" type="text/javascript"></script>
</body>
</html>                     